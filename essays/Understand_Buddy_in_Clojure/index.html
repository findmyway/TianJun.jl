<!DOCTYPE html>
<html lang="en-US"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å— Â· Jun Tian</title><meta name="title" content="ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å— Â· Jun Tian"/><meta property="og:title" content="ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å— Â· Jun Tian"/><meta property="twitter:title" content="ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å— Â· Jun Tian"/><meta name="description" content="Documentation for Jun Tian."/><meta property="og:description" content="Documentation for Jun Tian."/><meta property="twitter:description" content="Documentation for Jun Tian."/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-132847825-3"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-132847825-3', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.jpg" alt="Jun Tian logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Jun Tian</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">ğŸ‘‹ About</a></li><li><span class="tocitem">ğŸ’» Programming</span><ul><li><a class="tocitem" href="../../programming/A_Deep_Dive_into_Distributed.jl/">A Deep Dive into Distributed.jl</a></li></ul></li><li><span class="tocitem">ğŸ“– Reading</span><ul><li><a class="tocitem" href="../../reading/Notes_on_Distributional_Reinforcement_Learning/">Notes on Distributional Reinforcement Learning</a></li></ul></li><li><a class="tocitem" href="../../AMA/">ğŸ™‹ Ask Me Anything</a></li><li><a class="tocitem" href="../../blogroll/">ğŸ”— Blogroll</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å—</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å—</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/findmyway/TianJun.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ï‚›</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/findmyway/TianJun.jl/blob/master/docs/src/essays/Understand_Buddy_in_Clojure/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ï„</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><hr/><p>keywords: Web,Clojure CJKmainfont: KaiTi â€“-</p><h1 id="ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å—"><a class="docs-heading-anchor" href="#ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å—">ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å—</a><a id="ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å—-1"></a><a class="docs-heading-anchor-permalink" href="#ç†è§£Clojureä¸­Buddyè®¤è¯æ¨¡å—" title="Permalink"></a></h1><p>æœ‰å…³åŠ å¯†è§£å¯†çš„çŸ¥è¯†ä¸€ç›´æ˜¯è‡ªå·±çš„ç›²ç‚¹ï¼Œæœ€è¿‘åœ¨çœ‹å¦‚ä½•ç”¨ç”¨clojureå†™ç½‘ç«™ï¼Œé¡ºå¸¦å­¦ä¹ äº†ä¸‹cookieå’Œsessionç›¸å…³çš„çŸ¥è¯†ï¼Œåœ¨è¿™é‡Œä»‹ç»ä¸‹Buddyè¿™ä¸ªåº“ï¼Œå¹¶æ€»ç»“ä¸‹è‡ªå·±çš„ç†è§£ï¼Œä¸å¯¹çš„åœ°æ–¹æ³è¯·æŒ‡æ­£ã€‚Buddyæä¾›äº†åŸºäºRingçš„ä¸€äº›å®‰å…¨è®¤è¯ç›¸å…³çš„æ¥å£ï¼Œä¸‹é¢å†…å®¹å°±æ­¤å±•å¼€ã€‚</p><p>å…ˆè§£é‡Šå‡ ä¸ªæœ¯è¯­ï¼š</p><ul><li><p><strong>Handler</strong>ï¼šåœ¨Ringä¸­ï¼Œrequestå’Œresponseéƒ½å¯ä»¥çœ‹åšmapï¼Œhandlerå°±æ˜¯å¯¹requestçš„å†…å®¹åˆ†æåè¿”å›ç›¸åº”responseçš„å‡½æ•°</p></li><li><p><strong>Backend</strong>ï¼šBuddyæ¨¡å—ä¸­æ¯ä¸ªbackendéƒ½åŒ…å«2ä¸ªéƒ¨åˆ†Authenticationå’ŒAuthorizationï¼Œå…¶ä¸­AuthenticationåŒ…å«parseï¼ˆå°†éœ€è¦çš„è®¤è¯æ•°æ®ä»requestä¸­æå–å‡ºæ¥ï¼‰å’Œauthenticateï¼ˆæ ¹æ®parseæå–çš„ä¿¡æ¯åˆ¤æ–­æ˜¯å¦é€šè¿‡è®¤è¯ï¼‰ä¸¤ä¸ªæ­¥éª¤ï¼ŒAuthorizationåˆ™åŒ…å«å‘ç”Ÿè®¤è¯é”™è¯¯åå¦‚ä½•å¤„ç†è¯¥é”™è¯¯å¹¶è¿”å›ç›¸åº”responseçš„å®ç°ã€‚</p></li></ul><p>æ ¹æ®Authenticationå’ŒAuthorizationçš„å®ç°ä¸åŒï¼ŒBuddyæ¨¡å—æä¾›äº†5ç§å®ç°ï¼Œä¸‹é¢ä»¥æœ€ç®€å•çš„httpåŸºæœ¬è®¤è¯ä¸ºä¾‹ï¼š</p><p>##Httpbasic</p><p>Httpbasicçš„å¤„ç†é€»è¾‘å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="buddy_logic.png" alt/></p><p>Httpbasicæ–¹å¼çš„ç¼ºç‚¹å‚è§<a href="http://security.stackexchange.com/questions/67427/what-are-the-disadvantages-of-implementing-http-authentication-in-a-web-applicat">è¿™é‡Œ</a>ï¼š</p><ol><li><p>å¯†ç é‡‡ç”¨base64ç¼–ç ï¼Œå¾ˆå®¹æ˜“åå‘è½¬æ¢ï¼›</p></li><li><p>æ¯æ¬¡è¯·æ±‚éƒ½è¦ä¼ è¾“å¯†ç ï¼ˆå¢åŠ äº†æ”»å‡»æ¦‚ç‡ï¼›</p></li><li><p>å¯†ç ç¼“å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ï¼Œå®¹æ˜“é€šè¿‡CSRFçªƒå–ï¼›</p></li></ol><p>é‡‡ç”¨httpsåè®®çš„è¯ï¼Œä»…ä»…èƒ½è§£å†³ç¬¬ä¸€ç‚¹é—®é¢˜ã€‚</p><p>##Session</p><p>è¯¥æ–¹æ¡ˆèˆå¼ƒäº†httpbasicä¸­ä¼ è¾“username passwdçš„æ­¥éª¤ï¼ŒæŠŠéªŒè¯å’Œæˆæƒç‹¬ç«‹å¼€æ¥ï¼Œæˆæƒæ”¾åœ¨loginç•Œé¢é€»è¾‘é‡Œå»å¤„ç†ï¼Œå°†requestä¸­çš„:identityå­—æ®µä½œä¸ºéªŒè¯ç»“æœã€‚è€ŒéªŒè¯éƒ¨åˆ†åˆ™åªè€ƒè™‘æ˜¯å¦å­˜åœ¨:identityå­—æ®µã€‚</p><p>##Token</p><p>åŸºäºTokençš„æ–¹æ³•åˆ™æ˜¯å°†åŸæ¥Httpbasicå¤„ç†è¿‡ç¨‹é‡Œï¼Œrequestçš„headerä¸­Authorizationå†…å®¹æ”¹ä¸ºäº†tokenï¼Œä»è€Œé¿å…ç›´æ¥å­˜å‚¨ç”¨æˆ·åå’Œå¯†ç ï¼Œç„¶åæœåŠ¡å™¨ç«¯å­˜å‚¨tokenå’Œç”¨æˆ·çš„å¯¹åº”å…³ç³»ã€‚</p><p>##JWS Token</p><p>ç”±äºä¸Šé¢çš„tokenéœ€è¦ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ï¼Œåœ¨ç”¨æˆ·é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œtokençš„å­˜å‚¨å‹åŠ›ä¼šå¾ˆå¤§ï¼ŒJWS tokençš„ç”¨é€”å°±æ˜¯å°†ç”¨æˆ·åå¯†ç åŠ å…¥ç­¾ååå†™è¿›headerçš„Authorizationä¸­ï¼Œè¿™æ ·æœåŠ¡å™¨ç«¯å¹¶ä¸éœ€è¦å­˜å‚¨tokenåˆ°usernameçš„æ˜ å°„å…³ç³»ï¼Œåªéœ€è¦å¯¹tokenè§£ç å³å¯ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œä¸åƒHttpbasicç®€å•é‡‡ç”¨base64å¯¹ç”¨æˆ·åå¯†ç ç¼–ç ï¼Œç­¾ååçš„tokenå¾ˆéš¾ç ´è§£å¾—åˆ°åŸå§‹çš„ç”¨æˆ·åå¯†ç ä¿¡æ¯ã€‚</p><p>##JWE Token</p><p>JWE Tokenå¤„ç†çš„è¿‡ç¨‹å’ŒJWS Tokenå¾ˆåƒï¼ŒåŒºåˆ«åœ¨äºå¼•å…¥éå¯¹ç§°åŠ å¯†ï¼Œå°†ä¸€éƒ¨åˆ†æ•æ„Ÿä¿¡æ¯ç”¨å…¬é’¥åŠ å¯†ï¼ŒæœåŠ¡ç«¯ç”¨ç§é’¥è§£å¯†ã€‚</p><p>##å‚è€ƒ</p><p>å…³äºæ— çŠ¶æ€è®¤è¯çš„ä¸¤ç¯‡è®¨è®ºï¼Œé‡Œé¢æåˆ°äº†å¦‚ä½•ç”¨pythonå®ç°ï¼š</p><p><a href="http://lucumr.pocoo.org/2013/11/17/my-favorite-database/">http://lucumr.pocoo.org/2013/11/17/my-favorite-database/</a></p><p><a href="http://www.niwi.nz/2014/06/07/stateless-authentication-with-api-rest/">http://www.niwi.nz/2014/06/07/stateless-authentication-with-api-rest/</a></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>. All contents published at this site follows <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a> by default. For the Chinese version, please visit <a href="https://tianjun.me">tianjun.me</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Saturday 23 December 2023 15:51">Saturday 23 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
