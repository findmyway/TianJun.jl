<!DOCTYPE html>
<html lang="en-US"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Why Â· Jun Tian</title><meta name="title" content="Why Â· Jun Tian"/><meta property="og:title" content="Why Â· Jun Tian"/><meta property="twitter:title" content="Why Â· Jun Tian"/><meta name="description" content="Documentation for Jun Tian."/><meta property="og:description" content="Documentation for Jun Tian."/><meta property="twitter:description" content="Documentation for Jun Tian."/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-132847825-3"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-132847825-3', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.jpg" alt="Jun Tian logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Jun Tian</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">ğŸ‘‹ About</a></li><li><span class="tocitem">ğŸ’» Programming</span><ul><li><a class="tocitem" href="../../programming/A_Deep_Dive_into_Distributed.jl/">A Deep Dive into Distributed.jl</a></li></ul></li><li><span class="tocitem">ğŸ“– Reading</span><ul><li><a class="tocitem" href="../../reading/Notes_on_Distributional_Reinforcement_Learning/">Notes on Distributional Reinforcement Learning</a></li></ul></li><li><a class="tocitem" href="../../AMA/">ğŸ™‹ Ask Me Anything</a></li><li><a class="tocitem" href="../../blogroll/">ğŸ”— Blogroll</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Why</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Why</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/findmyway/TianJun.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ï‚›</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/findmyway/TianJun.jl/blob/master/docs/src/essays/Notes_on_CS3110/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ï„</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><hr/><p>keywords: OCaml,DataStructure,FunctionalProgramming CJKmainfont: KaiTi â€“-</p><h1 id="Why"><a class="docs-heading-anchor" href="#Why">Why</a><a id="Why-1"></a><a class="docs-heading-anchor-permalink" href="#Why" title="Permalink"></a></h1><p>æœ€åˆçœ‹åˆ°[CS3110][]è¿™é—¨è¯¾ä¹ŸæŒºå·§åˆçš„ï¼Œä¹‹å‰å†™è¿™ä¸ªç½‘ç«™çš„æ—¶å€™ï¼Œç”¨åˆ°äº†clojureä¸‹çš„ä¸€ä¸ªåº“[clojure.zip][]ï¼Œç„¶åçŸ¥é“å…¶ä¸­çš„å®ç°æ˜¯æ ¹æ®[Functional Perl The Zipper][]è¿™ç¯‡paperå®ç°çš„ï¼Œå°è¯•å»è¯»è¿™ç¯‡è®ºæ–‡çš„æ—¶å€™ï¼Œçœ‹åˆ°é‡Œé¢ç”¨çš„sampleä½¿ç”¨OCamlå†™çš„ï¼Œé‡Œé¢çš„ç¬¬ä¸€å¥è¯å°±æ˜¯ï¼š</p><blockquote><p>The main drawback to the purely applicative paradigm of programming is that</p></blockquote><p>many efficient algorithms use destructive operations in data structures such as bit vectors or character arrays or other mutable hierarchical classification structures, which are not immediately modelled as purely applicative data structures. A well known solution to this problem is called <em>functional arrays</em> (Paulson, 1991)</p><p>ç„¶è€Œï¼Œæˆ‘è¿function arraysåœ¨è¿™é‡Œæ˜¯æŒ‡ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œäºæ˜¯googleäº†ä¸‹ï¼Œç¢°å·§å°±çœ‹åˆ°äº†[CS3110][]è¿™é—¨è¯¾ï¼Œåˆç•¥çœ‹äº†ä¸‹ï¼Œæ„Ÿè§‰æŒºæœ‰æ„æ€çš„ä¸€é—¨è¯¾ï¼Œæ‰€ä»¥æ‰“ç®—å®Œæ•´å­¦ä¹ ä¸‹ï¼Œæå‡ä¸‹è‡ªå·±å¯¹Functional Programmingçš„ç†è§£ã€‚</p><p>[CS3110]: http://www.cs.cornell.edu/courses/cs3110/2016fa/ [clojure.zip]: https://clojuredocs.org/clojure.zip [Functional Perl The Zipper]: https://www.st.cs.uni-saarland.de/edu/seminare/2005/advanced-fp/docs/huet-zipper.pdf</p><h1 id="LEC-1"><a class="docs-heading-anchor" href="#LEC-1">LEC 1</a><a id="LEC-1-1"></a><a class="docs-heading-anchor-permalink" href="#LEC-1" title="Permalink"></a></h1><p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯å…³äºFPçš„ä¸€äº›ä»‹ç»ï¼Œå¤§éƒ¨åˆ†å†…å®¹åœ¨ä¹‹å‰å­¦ä¹ clojureçš„æ—¶å€™å·²ç»æœ‰æ‰€äº†è§£äº†ï¼Œä¸»è¦æ˜¯å…³äºimmutability å’ŒFPæ›´elegantã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œåœ¨slidesé‡Œçœ‹åˆ°äº†é‚£å¥ç»å…¸è¯­å¥çš„å‡ºå¤„ï¼š</p><blockquote><p>â€œA language that doesn&#39;t affect the</p></blockquote><p>way you think about programming is not worth knowing.â€  â€“ Alan J. Perlis </p><h1 id="LEC-2"><a class="docs-heading-anchor" href="#LEC-2">LEC 2</a><a id="LEC-2-1"></a><a class="docs-heading-anchor-permalink" href="#LEC-2" title="Permalink"></a></h1><p>å­¦ä¹ ä¸€é—¨ç¼–ç¨‹è¯­è¨€çš„5ä¸ªæ–¹é¢ï¼š</p><ol><li>Syntax</li><li>Semantics</li><li>Idioms  ï¼ˆä¸ªäººæ„Ÿè§‰è¿™ä¸€ç‚¹éœ€è¦åœ¨åå¤è¯»åˆ«äººä»£ç çš„è¿‡ç¨‹ä¸­åŠ æ·±ä½“ä¼šï¼‰</li><li>Libraries</li><li>Tools</li></ol><p>æœ‰ä¸€ä¸ªè§‚ç‚¹æˆ‘è§‰å¾—æŒºå¥½ï¼Œ<span>$We donâ€™t complain about syntax$</span>ï¼Œå¯èƒ½åšç ”ç©¶çš„äººæ›´çœ‹é‡ä¸€é—¨è¯­è¨€èƒŒåçš„æ€æƒ³ï¼Œè‡³äºè¯­æ³•å±‚é¢çš„ä¸œè¥¿åè€Œä¸å¤ªcareã€‚ä¸è¿‡å’±å¤§å¤šæ•°äººéƒ½æ¯”ä»·è‚¤æµ…ç‚¹ï¼Œå› è€Œä¸€é—¨è¯­è¨€æ˜¯å¦èƒ½è¢«å¹¿æ³›æ¨å¹¿çš„é‡è¦åŸå› ä¹‹ä¸€å°±æ˜¯è¯­æ³•æ˜¯å¦å‹å¥½......</p><p>åœ¨OCamlä¸­æ¯ä¸€ä¸ªexpressionåŒ…å«äº†type-checkingã€‚è¿™ç‚¹æ˜¯è¿™èŠ‚è¯¾ç»ˆç‚¹ä»‹ç»çš„å†…å®¹ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œfunctionä¹Ÿæ˜¯ä¸€ç§valueï¼Œå…¶å¯¹åº”çš„typeåˆ™æ˜¯ç”±functionçš„è¾“å…¥å’Œè¾“å‡ºçš„typeå…±é€šæ„æˆçš„ã€‚</p><p>åé¢çš„pipelineï¼ˆå³<span>$|&gt;$</span>)ä¸clojureä¸­çš„<span>$-&gt;$</span>å®åº”è¯¥æ˜¯ä¸€ä¸ªæ„æ€ã€‚</p><blockquote><p>Every OCaml function takes exactly one argument.</p></blockquote><p>è¿™å¥è¯çš„æ„æ€åº”è¯¥æ˜¯è¯´ï¼ŒOCamlé‡Œçš„å‡½æ•°é»˜è®¤éƒ½æ˜¯Curryingäº†çš„ã€‚éš¾æ€ªåœ¨utopé‡Œæ‰“å°å‡ºæ¥çš„å‡½æ•°ç±»å‹çœ‹èµ·æ¥éƒ½æœ‰ç‚¹å¥‡æ€ªï¼Œä¸€å¼€å§‹è¿˜å¾ˆå›°æƒ‘å¦‚æœè¿”å›å€¼æ˜¯å‡½æ•°çš„è¯ä¸ºä»€ä¹ˆæ²¡æœ‰åŒºåˆ†å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ã€‚ï¼ˆä»Šå¤©çœ‹äº†ä¸ªçŸ¥ä¹çš„é—®é¢˜<a href="https://www.zhihu.com/question/51402215">è®¾è®¡é—­åŒ…ï¼ˆClosureï¼‰çš„åˆè¡·æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</a>ï¼Œåˆå¤šäº†äº›ç†è§£ã€‚)</p><h1 id="LEC-3"><a class="docs-heading-anchor" href="#LEC-3">LEC 3</a><a id="LEC-3-1"></a><a class="docs-heading-anchor-permalink" href="#LEC-3" title="Permalink"></a></h1><p>è¿™ä¸€è¯¾ä¸»è¦æ˜¯listå’Œæ¨¡å¼åŒ¹é…ã€‚</p><p>è¿™é‡Œlisté‡‡ç”¨<span>$[]$</span>çš„è¯­æ³•ç³–æ¥ä»£æ›¿<span>$::$</span>è¡¨ç¤ºlistçš„æ„å»ºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œlistæˆå‘˜çš„ç±»å‹éœ€è¦ä¿æŒä¸€è‡´ã€‚åœ¨å½¢å¼ä¸Šä¸lispä¸­çš„listä¸€è‡´ï¼Œä¸è¿‡åœ¨ç±»å‹åšå‡ºäº†é™åˆ¶ã€‚</p><p>åŒæ ·ï¼Œç”±äºç±»å‹ç³»ç»Ÿçš„å¼•å…¥ï¼Œpattern matchçš„eiç±»å‹ä¹Ÿéœ€è¦ä¿æŒä¸€è‡´ã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œåœ¨è¿™é‡Œåšæ¨¡å¼åŒ¹é…çš„patternä¸ä»…ä»…æ˜¯ç±»å‹çš„åŒ¹é…ï¼Œè¿˜æŠŠdestructionè§£æ„çš„æ€æƒ³ä¹Ÿå¼•å…¥äº†ï¼Œä»è€Œå¯ä»¥åšè¯¸å¦‚<span>$a::b::c::[]$</span>çš„åŒ¹é…ã€‚</p><p><span>$List.hd$</span>å’Œ<span>$List.tl$</span>åˆ†åˆ«å¯¹åº”<span>$first$</span>å’Œ<span>$rest$</span>ï¼ˆæˆ–è€…<span>$car$</span>,<span>$cdr$</span>ï¼‰ï¼Œä¸è¿‡è®²ä¹‰é‡Œä¸å»ºè®®ç”¨è¿™ä¸ªï¼Œæ›´å€¾å‘æ¨¡å¼åŒ¹é…ã€‚</p><p>å¦å¤–è®²ä¹‰é‡Œè¿˜æåˆ°äº†å°¾é€’å½’ï¼ˆTail Recursionï¼‰ï¼ŒOCamlé‡Œæ˜¯æ”¯æŒå°¾é€’å½’ä¼˜åŒ–çš„ã€‚æœ‰å…´è¶£çš„è¯å¯ä»¥æ·±å…¥äº†è§£ä¸‹ä¸åŒè¯­è¨€å¯¹å°¾é€’å½’ä¼˜åŒ–çš„æ”¯æŒæƒ…å†µã€‚</p><h1 id="LEC-4"><a class="docs-heading-anchor" href="#LEC-4">LEC 4</a><a id="LEC-4-1"></a><a class="docs-heading-anchor-permalink" href="#LEC-4" title="Permalink"></a></h1><p>let expression æ˜¯å¯ä»¥åµŒå¥—çš„ã€‚ï¼ˆæ„Ÿè§‰è¿™å†™æ³•æœ‰ç‚¹è ¢......ï¼‰ ä¸è¿‡è¿™ç« çš„è¿›é˜¶ç‰ˆmatchä»‹ç»å¯ä»¥è·Ÿclojureä¸­çš„è§£æ„åŒ¹æ•Œäº†ã€‚åŠ å…¥ç±»å‹åæ›´å¤æ‚äº†ã€‚</p><blockquote><p>(p : t): a pattern with an explicit type annotation.</p></blockquote><p>å…³äºoptionï¼Œ<strong>In Java, every object reference is implicitly an option.</strong>ä¸€å¥ç±»æ¯”å°±è§£é‡Šæ¸…æ¥šäº†ã€‚è®°å¾—Scalaä¸­ä¹Ÿæœ‰optionï¼ŒæŒ‰ç…§è®²ä¹‰ä¸­çš„è§£é‡Šï¼Œç”±äºç±»å‹ç³»ç»Ÿçš„å­˜åœ¨ï¼Œoptionèƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…C/Javaä¸­ä¸ç»æ£€æŸ¥ä½¿ç”¨ç©ºæŒ‡é’ˆçš„é—®é¢˜ã€‚ç‰¹åœ°æŸ¥äº†ä¸‹ï¼Œä¸ºå•¥clojureä¸­æ²¡æœ‰ç±»ä¼¼çš„ç”¨æ³•ï¼Œäº†è§£ä¸‹æœ‰åŠ©äºç†è§£ä¸åŒè¯­è¨€çš„ç†å¿µ<a href="http://stackoverflow.com/questions/5839697/why-is-the-use-of-maybe-option-not-so-pervasive-in-clojure">Why is the use of Maybe/Option not so pervasive in Clojure?</a>ã€‚</p><h1 id="LEC-5"><a class="docs-heading-anchor" href="#LEC-5">LEC 5</a><a id="LEC-5-1"></a><a class="docs-heading-anchor-permalink" href="#LEC-5" title="Permalink"></a></h1><h2 id="LEC-5.1-typeçš„åŸºæœ¬ç†è§£"><a class="docs-heading-anchor" href="#LEC-5.1-typeçš„åŸºæœ¬ç†è§£">LEC 5.1 typeçš„åŸºæœ¬ç†è§£</a><a id="LEC-5.1-typeçš„åŸºæœ¬ç†è§£-1"></a><a class="docs-heading-anchor-permalink" href="#LEC-5.1-typeçš„åŸºæœ¬ç†è§£" title="Permalink"></a></h2><p><span>$type$</span>çš„èµ‹å€¼åº”è¯¥å¯ä»¥ç†è§£ä¸ºCä¸­çš„<span>$typedef$</span>ã€‚è¿™ä¸€ç« èŠ±äº†ä¸å°‘æ—¶é—´æ¥æ¶ˆåŒ–ï¼ˆå·®ä¸å¤š5ä¸ªä¸Šç­å‰å’Œä¸‹ç­åçš„æ—¶é—´ï¼‰ï¼Œå¯¹typeçš„è®¤è¯†ç¨å¾®æœ‰äº›æ¸…æ™°äº†ã€‚</p><p>åœ¨Pythonç­‰è¯­è¨€é‡Œï¼ŒæŠ½è±¡å±‚æ¬¡ä¸€èˆ¬æ˜¯ä»Objectå¼€å§‹ï¼Œç„¶åæ˜¯æŠ½è±¡ç±»Aï¼Œæ¥ä¸‹æ¥å„ç§ç±»çš„ç»§æ‰¿ã€‚è€Œåœ¨è¿™ä¸€ç« çš„å†…å®¹åˆ™æ˜¯ä»åº•å±‚çš„æ•°æ®ç±»å‹å¼€å§‹é‡‡ç”¨bottom-upçš„æ€æƒ³ä»‹ç»typeçš„ã€‚</p><p>é¦–å…ˆæ˜¯æœ€åŸºç¡€çš„int, floatç­‰ç±»å‹ï¼Œç„¶åå¼•å…¥tupleåï¼Œæœ‰äº†<span>$int * int$</span>ç­‰ç±»ä¼¼çš„ç±»å‹ï¼Œä¸è¿‡è¿™æ ·çš„ç±»å‹ä¸å¤ªå¥½æè¿°ï¼Œäºæ˜¯å¯ä»¥é€šè¿‡typeå¯¹å…¶é‡å‘½åä¸‹<span>$type point = float * float$</span>ï¼Œè¿™ç±»ç”¨æ³•ä¸ä»¥å‰å¯¹äºtypeçš„ç†è§£ä¸€è‡´ã€‚</p><p>typeçš„ç¬¬äºŒç§ç”¨æ³•æ˜¯æšä¸¾ï¼Œç„¶è€Œï¼Œè¿™æšä¸¾æœ‰ç‚¹ä¸ä¸€æ ·ã€‚è¯¾ä»¶é‡Œç»™äº†è¿™æ ·ä¸€ä¸ªä¾‹å­<span>$type day = Sun | Mon | Tue | Wed | Thu | Fri | Sat$</span>ï¼Œè¯¾ä»¶é‡Œæ²¡æåˆ°çš„ä¸€ç‚¹æ˜¯ï¼Œè¿™é‡Œçš„æšä¸¾å¯¹è±¡å‘½åå¿…é¡»æ˜¯å¤§å†™å¼€å¤´çš„ï¼è€Œä¸”è¿™é‡Œçš„æšä¸¾å¯¹è±¡å¹¶ä¸æ˜¯æ™®é€šçš„<span>$int, float$</span>ç­‰åŸºæœ¬ç±»å‹ï¼Œåº”è¯¥æŠŠå®ƒå½“åšä¸€ä¸ªç‹¬ç«‹çš„å®ä½“æ¥çœ‹å¾…ã€‚æˆ‘ä¸€å¼€å§‹å¾ˆéš¾æ¥å—è¿™æ ·çš„å®šä¹‰ï¼Œå› ä¸ºåœ¨Pythonè¯­è¨€é‡Œï¼Œ<span>$Sun$</span>ç­‰å¿…é¡»æ˜¯ä¸ªå˜é‡è¦å£°æ˜å¥½ï¼Œæˆ–è€…å°±ç›´æ¥æ˜¯ä¸ª<span>$string$</span>ç±»å‹çš„åŸºç¡€å˜é‡ï¼Œåˆæˆ–è€…åƒclojureä¸€æ ·ç‹¬ç«‹å‡ºä¸€ä¸ª<span>$:key$</span>è¿™æ ·çš„ç±»å‹å‡ºæ¥ï¼Œå¦åˆ™å¾ˆå®¹æ˜“è®©äººå°†è¿™é‡Œçš„ç±»å‹å˜é‡ä¸æ™®é€šçš„å˜é‡å¼„æ··ã€‚</p><p>PS: åˆšåˆšæŸ¥çœ‹äº†ä¸‹æ–‡æ¡£ï¼Œçœ‹åˆ°å¤§å°å†™çš„å˜é‡åæ˜¯æœ‰ç‰¹æ®Šæ„ä¹‰çš„ã€‚</p><blockquote><p>Case modifications are meaningful in OCaml: in effect capitalized words are reserved for constructors and module names in OCaml; in contrast regular variables (functions or identifiers) must start by a lowercase letter</p></blockquote><p>typeçš„ç¬¬ä¸‰ç§ç”¨æ³•æ˜¯å¯¹ç¬¬äºŒç§ç”¨æ³•çš„æ‰©å±•ã€‚å°†ä¹‹å‰çš„æšä¸¾å¯¹è±¡æ”¹æˆäº†<strong>æ„é€ å™¨</strong>ï¼Œ<span>$type t = C1 [of t1] | ... | Cn [of tn]$</span>è®²ä¹‰ä¸­çš„ä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼š</p><pre><code class="language-ocaml hljs">type point  = float * float
type shape =
  | Point  of point
  | Circle of point * float (* center and radius *)
  | Rect   of point * point </code></pre><p>ç„¶åï¼Œå¯ä»¥ä¼ é€’æ„é€ å™¨ä¸­æŒ‡å®šç±»å‹çš„æ•°æ®æ¥å¾—åˆ°å¯¹åº”ç±»å‹çš„å€¼ï¼Œä¾‹å¦‚ï¼š</p><pre><code class="language-ocaml hljs">let p = Point (1. , 3.)
let c = Circle ((1., 2.), 3.)
let r = Rect ((-1., -2.), (1., 2.))</code></pre><p>åŒæ—¶ï¼Œä¸Šé¢çš„<span>$shape$</span>å¯¹è±¡å¯ä»¥åœ¨ç±»å‹åŒ¹é…çš„è¿‡ç¨‹ä¸­è§£æ„å¾—åˆ°å…¶ä¸­çš„åŸºæœ¬å…ƒç´ ï¼Œç„¶ååšç›¸åº”çš„è¿ç®—ï¼š</p><pre><code class="language-ocaml hljs">let pi = 4.0 *. atan 1.0
let area = function
  | Point _ -&gt; 0.0
  | Circle (_,r) -&gt; pi *. (r ** 2.0)
  | Rect ((x1,y1),(x2,y2)) -&gt;
      let w = x2 -. x1 in
      let h = y2 -. y1 in
        w *. h
        
let center = function
  | Point p -&gt; p
  | Circle (p,_) -&gt; p
  | Rect ((x1,y1),(x2,y2)) -&gt;
      ((x2 +. x1) /. 2.0, 
       (y2 +. y1) /. 2.0)
       
let area_of_p = area p
let center_of_r = center r</code></pre><h2 id="LEC-5.2-recursive-type"><a class="docs-heading-anchor" href="#LEC-5.2-recursive-type">LEC 5.2 recursive type</a><a id="LEC-5.2-recursive-type-1"></a><a class="docs-heading-anchor-permalink" href="#LEC-5.2-recursive-type" title="Permalink"></a></h2><p>æœ€å…¸å‹çš„å°±æ˜¯æ ‘ç»“æ„çš„å®šä¹‰ï¼š</p><pre><code class="nohighlight hljs">type node = {value:int; next:mylist}
and mylist = Nil | Node of node</code></pre><h2 id="LEC-5.3-parameterized-variants"><a class="docs-heading-anchor" href="#LEC-5.3-parameterized-variants">LEC 5.3 parameterized variants</a><a id="LEC-5.3-parameterized-variants-1"></a><a class="docs-heading-anchor-permalink" href="#LEC-5.3-parameterized-variants" title="Permalink"></a></h2><p>å¯ä»¥ç±»æ¯”æ¨¡æ¿ç±»ï¼Œæ¯”å¦‚javaä¸­çš„<span>$List&lt;Integer&gt;$</span>ï¼Œåªä¸è¿‡è¿™é‡Œçš„è¯­æ³•æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œç±»å‹æ˜¯åè¿‡æ¥äº†çš„ï¼Œæ¯”å¦‚ä¸€ä¸ªæ³›å‹çš„listæ˜¯<span>$type &#39;a mylist =  Nil | Cons of &#39;a * &#39;a mylist$</span>è¿™æ ·å®šä¹‰çš„ï¼Œå¯¹äºä¸€ä¸ªå…·ä½“çš„æ•°æ®ï¼Œå‰é¢ä»£ç ä¸­çš„<span>$&#39;a$</span>å¯ä»¥æ˜¯ä»»æ„å®é™…çš„ç±»å‹ï¼Œæ¯”å¦‚intã€‚<span>$let x = Cons (3, Cons (1, Nil))$</span>å°±æ˜¯ä¸€ä¸ª<span>$int mylist$</span>ç±»å‹æ•°æ®çš„å®ä¾‹ã€‚</p><p>LEC 5 ä¸­çš„Natural numberséƒ¨åˆ†å¾ˆæœ‰æ„æ€ï¼Œä»¥å‰çœ‹SICPçš„æ—¶å€™ï¼Œå¯¹è¿™ä¸ªæ¦‚å¿µç†è§£å¾—ä¸æ¸…æ¥šï¼Œç°åœ¨çœ‹äº†ä»£ç ååˆæœ‰äº†æ›´æ·±çš„ç†è§£ã€‚</p><h1 id="LEC-6"><a class="docs-heading-anchor" href="#LEC-6">LEC 6</a><a id="LEC-6-1"></a><a class="docs-heading-anchor-permalink" href="#LEC-6" title="Permalink"></a></h1><p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯å…³äºé«˜é˜¶å‡½æ•°çš„ä¸€äº›åº”ç”¨ï¼Œç†è§£èµ·æ¥åº”è¯¥éš¾åº¦ä¸å¤§ï¼Œè¯¾åä¹ é¢˜éƒ¨åˆ†éœ€è¦èŠ±ç‚¹æ—¶é—´ã€‚æœ‰ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯<span>$fold_left$</span>ä¸<span>$fold_right$</span>çš„åŒºåˆ«ã€‚<span>$fold_left$</span>æ˜¯å¯ä»¥åšåˆ°å°¾é€’å½’ä¼˜åŒ–çš„ï¼Œè€Œ<span>$fold_right$</span>åˆ™ä¸æ˜¯ï¼Œå¦‚æœç¡®å®éœ€è¦çš„è¯ï¼Œéœ€è¦æŠŠåˆ—è¡¨ç¿»è½¬åå†ä½¿ç”¨<span>$fold_left$</span>ã€‚</p><p>Pipelineçš„ä¹¦å†™æ–¹å¼ç¡®å®ä¼˜é›…ä¸€äº›ï¼Œå¯èƒ½è‡ªå·±å†™ä»£ç çš„æ€ç»´ä¹ æƒ¯è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡æ¥ï¼Œæ„Ÿè§‰ä»å³å¾€å·¦è¯»ä»£ç ä¹Ÿä¸æ˜¯ç‰¹åˆ«éº»çƒ¦çš„ä¸€ä»¶äº‹ï¼Œåªè¦æœ‰åˆé€‚çš„ç¼©è¿›æ¥è¡¨ç¤ºã€‚</p><h1 id="LEC-7"><a class="docs-heading-anchor" href="#LEC-7">LEC 7</a><a id="LEC-7-1"></a><a class="docs-heading-anchor-permalink" href="#LEC-7" title="Permalink"></a></h1><p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯OCamlæ¨¡å—åŒ–çš„ä»‹ç»ï¼ŒåŒ…çš„å¼•å…¥å’ŒæŠ½è±¡ä¸å…¶å®ƒè¯­è¨€æ˜¯åŸºæœ¬ä¸€è‡´çš„ï¼Œä¸åŒä¹‹å¤„åœ¨äºç±»å‹ç³»ç»Ÿå•ç‹¬ç”¨ä¸€ä¸ªæ¥å£æ–‡ä»¶æ¥æè¿°ï¼Œæœ‰ç‚¹åƒæŠ½è±¡ç±»ï¼Œä½†ä¹Ÿä¸å®Œå…¨æ˜¯ã€‚å¦å¤–å…·ä½“çš„å®ç°æ–‡ä»¶å¹¶ä¸æ˜¯å¯¹åº”äº†ä»¥å‰Javaä¸­ç±»çš„å®ç°ï¼Œåè€Œæ˜¯æ“ä½œå…·ä½“çš„æ•°æ®ã€‚OCamlå¥½åƒæ˜¯æœ‰è‡ªå·±ä¸€å¥—å…³äºç±»çš„å®šä¹‰ã€‚</p><h1 id="READING-LIST"><a class="docs-heading-anchor" href="#READING-LIST">READING LIST</a><a id="READING-LIST-1"></a><a class="docs-heading-anchor-permalink" href="#READING-LIST" title="Permalink"></a></h1><ul><li><a href="http://courses.cms.caltech.edu/cs134/cs134b/book.pdf">Introduction to Objective Caml</a></li><li><a href="https://realworldocaml.org/v1/en/html/a-guided-tour.html">Real World OCaml</a></li></ul></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>. All contents published at this site follows <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a> by default. For the Chinese version, please visit <a href="https://tianjun.me">tianjun.me</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Saturday 23 December 2023 15:51">Saturday 23 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
